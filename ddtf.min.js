/*
Made by Trevor Wood
github.com/trevorwood1993
*/

"function"!=typeof ddtf&&(window.ddtf=function(){function t(t){var d;t.addClass("open"),(d=t.find("li")).on("mouseover",function(){d.removeClass("sel"),$(this).addClass("sel")}).on("mouseout",function(){$(this).removeClass("sel")})}function d(t){var d;t.removeClass("open"),(d=t.find("li")).off("mouseover",function(){}),d.off("mouseout",function(){})}function n(t,d){var n,i,e,s,f,l,o=t.find("li.sel");-1==(n="up"==d?o.prev():o.next()).parent().children().index(n)&&(n="up"==d?t.find("li:last-of-type"):t.find("li:first-of-type")),o.removeClass("sel"),n.addClass("sel"),e=(i=t).find("li.sel"),s=e.parent().children().index(e),f=e.height(),l=(s+0)*f,l-=2*f,i.stop(),i.animate({scrollTop:l},200)}return void 0===ddtf.init&&(ddtf.init=!0,ddtf.idCnt=0,$(document).on("click",function(t){$(".ddtf-list.open").length&&$(".ddtf-list.open").each(function(){var n=$(this).closest(".ddtf");$(t.target).closest(n).length||d($(this))})}),$(document).keydown(function(i){var e=$(".ddtf-list.open");if(e.length){switch(i.which){case 13:f=(s=e).closest(".ddtf"),l=s.find("li.sel").text(),f.find("input").val(l),d(e);break;case 38:n(e,"up");break;case 40:n(e,"down");break;default:return void console.log(i.which)}var s,f,l;i.preventDefault()}else{var o=$(document.activeElement),a=$(".ddtf");if(o.addClass("hi"),o.parents(a).length){var c=o.closest(a),r=c.find(".ddtf-list");t(r)}}})),{createItem:function(t){var d=ddtf.idCnt++,n="";n+='<div data-ddtfid="'+d+'" class="ddtf">',n+='<div class="ddtf-main">',n+='<input type="text">',n+='<div class="ddtf-bttn"></div>',n+="</div>",n+='<div class="ddtf-list">',n+="<ul>";for(var i=0;i<t.length;i++)n+="<li>"+t[i]+"</li>";return n+="</ul>",n+="</div>",{id:d,item:n+="</div>"}},enableItemActions:function(n){var i=$(".ddtf[data-ddtfid="+n+"]"),e=i.find(".ddtf-bttn"),s=i.find("input"),f=i.find(".ddtf-list");e.on("click",function(){f.hasClass("open")?d(f):t(f)}),f.find("li").on("click",function(){var t=$(this).text();s.val(t),d(f)})},itemAppend:function(t,d){var n=ddtf().createItem(d);t.append(n.item),ddtf().enableItemActions(n.id)}}});
