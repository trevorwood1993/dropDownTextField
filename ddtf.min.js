"function"!=typeof ddtf&&(window.ddtf=function(){function t(t){var d;t.addClass("open"),(d=t.find("li")).on("mouseover",function(){d.removeClass("sel"),$(this).addClass("sel")}).on("mouseout",function(){$(this).removeClass("sel")})}function d(t){var d;t.removeClass("open"),(d=t.find("li")).off("mouseover",function(){}),d.off("mouseout",function(){})}function n(t,d){var n,i,e,s,f,o,l=t.find("li.sel");-1==(n="up"==d?l.prev():l.next()).parent().children().index(n)&&(n="up"==d?t.find("li:last-of-type"):t.find("li:first-of-type")),l.removeClass("sel"),n.addClass("sel"),e=(i=t).find("li.sel"),s=e.parent().children().index(e),f=e.height(),o=(s+0)*f,o-=2*f,i.stop(),i.animate({scrollTop:o},200)}return void 0===ddtf.init&&(ddtf.init=!0,ddtf.idCnt=0,$(document).on("click",function(t){$(".ddtf-list.open").length&&$(".ddtf-list.open").each(function(){var n=$(this).closest(".ddtf");$(t.target).closest(n).length||d($(this))})}),$(document).keydown(function(i){var e=$(document.activeElement),s=$(".ddtf");if(e.addClass("hi"),e.parents(s).length){var f=e.closest(s),o=f.find(".ddtf-list");t(o)}var l=$(".ddtf-list.open");if(l.length){switch(i.which){case 13:c=(a=l).closest(".ddtf"),r=a.find("li.sel").text(),c.find("input").val(r),d(l);break;case 38:n(l,"up");break;case 40:n(l,"down");break;default:return void console.log(i.which)}var a,c,r;i.preventDefault()}})),{createItem:function(t){var d=ddtf.idCnt++,n="";n+='<div data-ddtfid="'+d+'" class="ddtf">',n+='<div class="ddtf-main">',n+='<input type="text">',n+='<div class="ddtf-bttn"></div>',n+="</div>",n+='<div class="ddtf-list">',n+="<ul>";for(var i=0;i<t.length;i++)n+="<li>"+data[i]+"</li>";return n+="</ul>",n+="</div>",{id:d,item:n+="</div>"}},enableItemActions:function(n){var i=$(".ddtf[data-ddtfid="+n+"]"),e=i.find(".ddtf-bttn"),s=i.find("input"),f=i.find(".ddtf-list");e.on("click",function(){f.hasClass("open")?d(f):t(f)}),f.find("li").on("click",function(){var t=$(this).text();s.val(t),d(f)})},itemAppend:function(t,d){var n=ddtf().createItem(d);t.append(n.item),ddtf().enableItemActions(n.id)}}});
