/*
Made by Trevor Wood
github.com/trevorwood1993
*/

"function"!=typeof ddtf&&(window.ddtf=function(){function t(t){var i;t.addClass("open"),(i=t.find("li")).on("mouseover",function(){i.removeClass("sel"),$(this).addClass("sel")}).on("mouseout",function(){$(this).removeClass("sel")})}function i(t){var i;t.removeClass("open"),(i=t.find("li")).off("mouseover",function(){}),i.off("mouseout",function(){})}function d(t,i){var d,n,e,s,f,o,l=t.find("li.sel");-1==(d="up"==i?l.prev():l.next()).parent().children().index(d)&&(d="up"==i?t.find("li:last-of-type"):t.find("li:first-of-type")),l.removeClass("sel"),d.addClass("sel"),e=(n=t).find("li.sel"),s=e.parent().children().index(e),f=e.height(),o=(s+0)*f,o-=2*f,n.stop(),n.animate({scrollTop:o},200)}return void 0===ddtf.init&&(ddtf.init=!0,ddtf.idCnt=0,$(document).on("click",function(t){$(".ddtf-list.open").length&&$(".ddtf-list.open").each(function(){var d=$(this).closest(".ddtf");$(t.target).closest(d).length||i($(this))})}),$(document).keydown(function(n){var e=$(".ddtf-list.open");if(!e.length){var s=$(document.activeElement),f=$(".ddtf");if(s.addClass("hi"),s.parents(f).length&&(38==n.which||40==n.which)){var o=s.closest(f),l=o.find(".ddtf-list");return void t(l)}}if(9!=n.which){switch(n.which){case 13:c=(a=e).closest(".ddtf"),r=a.find("li.sel").text(),c.find("input").val(r),i(e);break;case 38:d(e,"up");break;case 40:d(e,"down");break;default:return void console.log(n.which)}var a,c,r;n.preventDefault()}else i(e)})),{createItem:function(t){var i=ddtf.idCnt++,d="";d+='<div data-ddtfid="'+i+'" class="ddtf">',d+='<div class="ddtf-main">',d+='<input type="text">',d+='<div class="ddtf-bttn"></div>',d+="</div>",d+='<div class="ddtf-list">',d+="<ul>";for(var n=0;n<t.length;n++)d+="<li>"+t[n]+"</li>";return d+="</ul>",d+="</div>",{id:i,item:d+="</div>"}},enableItemActions:function(d){var n=$(".ddtf[data-ddtfid="+d+"]"),e=n.find(".ddtf-bttn"),s=n.find("input"),f=n.find(".ddtf-list");e.on("click",function(){f.hasClass("open")?i(f):t(f)}),f.find("li").on("click",function(){var t=$(this).text();s.val(t),i(f)})},itemAppend:function(t,i){var d=ddtf().createItem(i);t.append(d.item),ddtf().enableItemActions(d.id)}}});
